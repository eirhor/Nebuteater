@using Nebuteater.Web.Extensions
@model List<Nebuteater.Models.Entities.Play>

@if (Model == null || !Model.Any())
{
    return;
}
 
@foreach (var play in Model)
{
    <section>
        <header>
            <div class="col-lg-12 text-center">
                <h1>@play.Name</h1>
            </div>
            <div class="col-lg-12 text-center">
                <p>@play.Description</p>
            </div>
            <div>
                <div class="col-lg-4 text-center">
                    <h4>Sted</h4>
                    <p>@play.Location</p>
                </div>
                <div class="col-lg-4 text-center">
                    <h4>Pris</h4>
                    <p>kr. @play.Price,-</p>
                </div>
                <div class="col-lg-4 text-center">
                    <h4>Betalingsmetode</h4>
                    <p>@play.PaymentMethod.GetPaymentMethodString()</p>
                </div>
            </div>
        </header>
        <article>
            <ul class="list-group">
                @foreach (var performance in play.Performances.OrderByDescending(x => x.StartDateTime))
                {
                    <li class="list-group-item">
                        <div class="col-lg-8">
                            <p>@performance.</p>
                        </div>
                        <div class="col-lg-4">
                            @Html.ActionLink("Reserver billett", "Order", new { performanceId = performance.Id })
                        </div>
                    </li>
                }
            </ul>
            
        </article>
    </section>
}